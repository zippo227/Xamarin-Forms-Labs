using System;
using NUnit.Framework;
using XLabs.Utilities;
using System.IO;

namespace Xlabs.Core.Tests
{
	[TestFixture]
	public class TtfFileInfoTests
	{
		static byte[] invalidTTFFont = { 0x00 };

		static byte[] validTTFFont = {
0x00,0x01,0x00,0x00,0x00,0x0A,0x00,0x80,0x00,0x03,0x00,0x20,0x4F,0x53,0x2F,0x32,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xAC,0x00,0x00,0x00,0x58,0x63,0x6D,0x61,0x70,
0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x04,0x00,0x00,0x00,0x2C,0x67,0x6C,0x79,0x66,
0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x30,0x00,0x00,0x00,0x10,0x68,0x65,0x61,0x64,
0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x40,0x00,0x00,0x00,0x38,0x68,0x68,0x65,0x61,
0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x78,0x00,0x00,0x00,0x24,0x68,0x6D,0x74,0x78,
0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x9C,0x00,0x00,0x00,0x08,0x6C,0x6F,0x63,0x61,
0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xA4,0x00,0x00,0x00,0x08,0x6D,0x61,0x78,0x70,
0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xAC,0x00,0x00,0x00,0x20,0x6E,0x61,0x6D,0x65,
0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xCC,0x00,0x00,0x00,0xB0,0x70,0x6F,0x73,0x74,
0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x7C,0x00,0x00,0x00,0x20,0x00,0x01,0x00,0x00,
0x00,0x01,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x03,0x00,0x01,0x00,0x00,0x00,0x0C,
0x00,0x04,0x00,0x20,0x00,0x00,0x00,0x04,0x00,0x04,0x00,0x01,0x00,0x00,0x00,0x40,
0xFF,0xFF,0x00,0x00,0x00,0x40,0xFF,0xFF,0xFF,0xC1,0x00,0x01,0x00,0x00,0x00,0x00,
0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x31,0x00,
0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x5F,0x0F,0x3C,0xF5,
0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x01,0x00,0x00,
0x00,0x02,0x00,0x01,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,
0x00,0xAE,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,
0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,
0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x00,
0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x00,0x00,0x00,0x00,0x01,
0x00,0x00,0x00,0x00,0x00,0x05,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,
0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x01,0x04,0x09,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x03,0x00,0x01,0x04,0x09,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x03,
0x00,0x01,0x04,0x09,0x00,0x02,0x00,0x02,0x00,0x00,0x00,0x03,0x00,0x01,0x04,0x09,
0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x01,0x04,0x09,0x00,0x04,0x00,0x00,
0x00,0x00,0x00,0x03,0x00,0x01,0x04,0x09,0x00,0x05,0x00,0x00,0x00,0x00,0x00,0x03,
0x00,0x01,0x04,0x09,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x01,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};
		[Test]
		public void TtfFileInfoFromStreamTests ()
		{
			Stream file = new MemoryStream(validTTFFont);
			TtfFileInfo info = TtfFileInfo.FromStream(file);
			Assert.AreEqual ("", info.FontName);
			Assert.AreEqual (10, info.TableCount);
			Assert.AreEqual (65536, info.Version);
		}
		[Test]
		public void TtfFileInfoFromInvalidStreamTests ()
		{
			Stream file = new MemoryStream(invalidTTFFont);
			TtfFileInfo info = TtfFileInfo.FromStream(file);
			Assert.IsNull (info);
		}
	}
}

